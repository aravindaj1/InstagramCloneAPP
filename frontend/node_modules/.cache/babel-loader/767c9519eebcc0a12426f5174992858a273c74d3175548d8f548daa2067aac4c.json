{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\HP\\\\frontend\\\\src\\\\components\\\\ProfilePage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport Popup from './Popup';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ProfilePage() {\n  _s();\n  let {\n    oid\n  } = useParams();\n  let navigate = useNavigate();\n  const [fc, sfc] = useState(\"Follow\");\n  const [popup, setPopup] = useState({\n    isOpen: false,\n    content: ''\n  });\n  const [ouser, setOuser] = useState('loading');\n  const [luser, setLuser] = useState('loading');\n  const [posts, setPosts] = useState([]);\n  const [loaded, load] = useState(false);\n  const fetchPosts = async () => {\n    var lu = JSON.parse(localStorage.getItem('user'));\n    var lus = await axios.post('http://localhost:8081/user', {\n      userid: lu.userid\n    });\n    var ous = await axios.post('http://localhost:8081/user', {\n      userid: oid\n    });\n    if (ous.data === null) {\n      return [lus.data, null, []];\n    }\n    if (lus.data.userid === oid) {\n      navigate('/myprofile');\n    }\n    lus.data.following.includes(ous.data._id) ? sfc(\"Unfollow\") : sfc(\"Follow\");\n    var req = await axios.post('http://localhost:8081/getmyposts', {\n      userid: ous.data.userid\n    });\n    var sortedposts = req.data;\n    return [lus.data, ous.data, sortedposts];\n  };\n  useEffect(() => {\n    fetchPosts().then(data => {\n      setLuser(data[0]);\n      setOuser(data[1]);\n      setPosts(data[2]);\n      load(true);\n    }).catch(err => console.log(err));\n  }, []);\n  const Like = async (event, lpost) => {\n    if (event.detail == 2) {\n      await axios.put('http://localhost:8081/like', {\n        userid: luser.userid,\n        postid: lpost._id\n      }).then(async data => {\n        const index = posts.findIndex(post => post._id === lpost._id);\n        const updatedPosts = [...posts];\n        updatedPosts[index] = data.data;\n        setPosts(updatedPosts);\n        setPopup({\n          isOpen: true,\n          content: lpost.likes.includes(luser._id) ? 'Unliked' : 'Liked'\n        });\n        setTimeout(() => setPopup({\n          isOpen: false,\n          action: '',\n          content: ''\n        }), 1000);\n      });\n    }\n  };\n  const Comment = async (e, pid, uid) => {\n    e.preventDefault();\n    if (document.getElementById(pid).value) {\n      await axios.put('http://localhost:8081/addcomment', {\n        postid: pid,\n        comment: document.getElementById(pid).value,\n        userid: uid\n      }).then(async data => {\n        const index = posts.findIndex(post => post._id === pid); // Create a copy of the current posts array\n        const updatedPosts = [...posts];\n        updatedPosts[index] = data.data;\n        setPosts(updatedPosts);\n        setPopup({\n          isOpen: true,\n          content: 'Commented'\n        });\n\n        // Close the popup after 2 seconds\n        setTimeout(() => setPopup({\n          isOpen: false,\n          action: '',\n          content: ''\n        }), 1000);\n      });\n    }\n    e.target.reset();\n  };\n  const removeComment = async (pid, com) => {\n    await axios.put('http://localhost:8081/removecomment', {\n      pid: pid,\n      comment: com\n    }).then(async data => {\n      const index = posts.findIndex(post => post._id === pid); // Create a copy of the current posts array\n      const updatedPosts = [...posts];\n      updatedPosts[index] = data.data;\n      setPosts(updatedPosts);\n      setPopup({\n        isOpen: true,\n        content: 'Comment removed'\n      });\n\n      // Close the popup after 2 seconds\n      setTimeout(() => setPopup({\n        isOpen: false,\n        action: '',\n        content: ''\n      }), 1000);\n    });\n  };\n  const viewcomments = (p, c) => {\n    if (c.postedby.userid === luser.userid) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          margin: \"1px\",\n          paddingLeft: \"10px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"card-img-top\",\n          src: \"http://localhost:8081/\" + c.postedby._id + \".jpg\",\n          alt: \"pfp\",\n          style: {\n            float: \"left\",\n            width: \"30px\",\n            borderRadius: \"50%\",\n            marginRight: \"10px\",\n            height: \"30px\",\n            objectFit: \"cover\",\n            objectPosition: \"center center\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            style: {\n              marginRight: \"5px\",\n              width: \"auto\"\n            },\n            onClick: () => navigate('/myprofile'),\n            children: c.postedby.userid\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 20\n          }, this), c.comment, \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            onClick: () => {\n              removeComment(p, c._id);\n            },\n            src: \"trashbin.png\",\n            alt: \"remove comment\",\n            style: {\n              width: \"20px\",\n              margin: 0\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 136\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 20\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          margin: \"1px\",\n          paddingLeft: \"10px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"card-img-top\",\n          src: \"http://localhost:8081/\" + c.postedby._id + \".jpg\",\n          alt: \"pfp\",\n          style: {\n            float: \"left\",\n            width: \"30px\",\n            borderRadius: \"50%\",\n            marginRight: \"10px\",\n            height: \"30px\",\n            objectFit: \"cover\",\n            objectPosition: \"center center\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            style: {\n              marginRight: \"5px\",\n              width: \"auto\"\n            },\n            onClick: () => navigate('/profilepage/' + c.postedby.userid),\n            children: c.postedby.userid\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 20\n          }, this), c.comment]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 20\n      }, this);\n    }\n  };\n  const toggler = pid => {\n    var vis = document.getElementById(\"comments\" + pid).style.visibility;\n    if (vis === \"hidden\") {\n      document.getElementById(\"comments\" + pid).style.visibility = \"visible\";\n      document.getElementById(\"comments\" + pid).style.height = \"auto\";\n    } else {\n      document.getElementById(\"comments\" + pid).style.visibility = \"hidden\";\n      document.getElementById(\"comments\" + pid).style.height = \"0\";\n    }\n  };\n  const follow = async () => {\n    await axios.put('http://localhost:8081/follow', {\n      userid: luser._id,\n      followid: ouser._id\n    }).then(async data => {\n      setLuser(data.data.user);\n      setOuser(data.data.follow);\n      setPopup({\n        isOpen: true,\n        content: ouser.followers.includes(luser._id) ? 'Unfollowed' : 'Followed'\n      });\n      setTimeout(() => setPopup({\n        isOpen: false,\n        action: '',\n        content: ''\n      }), 1000);\n    });\n    if (fc === \"Follow\") sfc(\"Unfollow\");else sfc(\"Follow\");\n  };\n  const viewbio = bio => {\n    var BIO = bio.split(\"\\n\");\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginLeft: \"20px\",\n        marginBottom: \"10px\"\n      },\n      children: BIO.map(b => {\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: \"0px\"\n          },\n          children: b\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 24\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 17\n    }, this);\n  };\n  const month = m => {\n    switch (m) {\n      case '01':\n        return 'Jan';\n      case '02':\n        return 'Feb';\n      case '03':\n        return 'Mar';\n      case '04':\n        return 'Apr';\n      case '05':\n        return 'May';\n      case '06':\n        return 'June';\n      case '07':\n        return 'July';\n      case '08':\n        return 'Aug';\n      case '09':\n        return 'Sep';\n      case '10':\n        return 'Oct';\n      case '11':\n        return 'Nov';\n      default:\n        return 'Dec';\n    }\n  };\n  const handleClosePopup = () => {\n    setPopup({\n      isOpen: false,\n      action: '',\n      content: ''\n    });\n  };\n  if (ouser && ouser !== 'loading' && loaded) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        style: {\n          width: \"600px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          style: {\n            height: \"60px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              width: \"400px\",\n              float: \"left\"\n            },\n            children: ouser.userid\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          style: {\n            height: \"170px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: \"150px\",\n                float: \"left\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"http://localhost:8081/\" + ouser._id + \".jpg\",\n                style: {\n                  width: \"130px\",\n                  borderRadius: \"50%\",\n                  objectFit: \"cover\",\n                  objectPosition: \"center center\",\n                  height: \"130px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: \"380px\",\n                float: \"right\",\n                height: \"130px\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  float: \"left\",\n                  textAlign: \"center\",\n                  marginTop: \"35px\",\n                  width: \"110px\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: ouser.posts.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Posts\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => {\n                  navigate('/followers/' + ouser.userid);\n                },\n                style: {\n                  float: \"left\",\n                  textAlign: \"center\",\n                  marginTop: \"35px\",\n                  width: \"110px\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: ouser.followers.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Followers\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => {\n                  navigate('/following/' + ouser.userid);\n                },\n                style: {\n                  float: \"left\",\n                  textAlign: \"center\",\n                  marginTop: \"35px\",\n                  width: \"110px\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: ouser.following.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Following\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        style: {\n          width: \"600px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          style: {\n            height: \"50px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: ouser.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 9\n        }, this), ouser.bio && viewbio(ouser.bio), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-dark\",\n          onClick: () => {\n            follow();\n          },\n          children: fc\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [posts.length > 0 && posts.map(post => {\n          var p = post._id;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            style: {\n              width: \"600px\",\n              marginBottom: \"10px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"card-img-top\",\n                src: \"http://localhost:8081/\" + ouser._id + \".jpg\",\n                alt: \"Card cap\",\n                style: {\n                  float: \"left\",\n                  height: \"35px\",\n                  width: \"35px\",\n                  borderRadius: \"50%\",\n                  marginRight: \"10px\",\n                  objectFit: \"cover\",\n                  objectPosition: \"center center\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  marginTop: \"6px\"\n                },\n                children: ouser.userid\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"card-img-top\",\n              onClick: event => {\n                Like(event, post);\n              },\n              src: \"http://localhost:8081/\" + post.photo,\n              alt: post.photo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"card-img-top\",\n                src: \"http://localhost:8081/\" + post.postedby._id + \".jpg\",\n                alt: \"pfp\",\n                style: {\n                  float: \"left\",\n                  width: \"30px\",\n                  borderRadius: \"50%\",\n                  marginRight: \"10px\",\n                  height: \"30px\",\n                  objectFit: \"cover\",\n                  objectPosition: \"center center\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: post.postedby.userid\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 16\n                }, this), \" \", post.caption]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"like\" + (post.likes.includes(luser._id) ? \"d.png\" : \".png\"),\n                  onClick: () => {\n                    navigate('/likedby/' + p);\n                  },\n                  style: {\n                    width: \"30px\"\n                  },\n                  alt: \"Like\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 16\n                }, this), \" \", post.likes.length, \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"comment.png\",\n                  onClick: () => {\n                    toggler(p);\n                  },\n                  style: {\n                    width: \"30px\",\n                    marginLeft: \"5px\"\n                  },\n                  alt: \"Comment\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 183\n                }, this), \" \", post.comments.length]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: event => Comment(event, p, luser.userid),\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  name: \"comment\",\n                  id: p,\n                  placeholder: \"Add a comment\",\n                  style: {\n                    float: \"left\",\n                    width: \"450px\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  className: \"btn \",\n                  style: {\n                    backgroundColor: \"black\",\n                    color: \"white\",\n                    margin: 0,\n                    marginLeft: \"5px\"\n                  },\n                  children: \"Comment\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"comments\" + p,\n              style: {\n                visibility: \"hidden\",\n                height: 0\n              },\n              children: post.comments.map(c => {\n                return viewcomments(p, c);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: \"2px\",\n                paddingLeft: \"10px\"\n              },\n              children: [post.createdAt.substring(8, 10), \" \", month(post.createdAt.substring(5, 7)), \" \", post.createdAt.substring(0, 4), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 16\n          }, this);\n        }), posts.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          style: {\n            padding: \"100px\",\n            width: \"600px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              textAlign: \"center\"\n            },\n            children: \" This user has not posted anything\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              textAlign: \"center\",\n              color: \"blue\"\n            },\n            onClick: () => navigate(\"/search\"),\n            children: \" Find more people \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Popup, {\n        isOpen: popup.isOpen,\n        onClose: handleClosePopup,\n        content: popup.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }, this);\n  }\n  if (ouser === 'loading') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"card\",\n        src: \"http://mir-s3-cdn-cf.behance.net/project_modules/max_1200/eb0e6b135349075.61e6909c085be.gif\",\n        alt: \"loading\",\n        style: {\n          width: \"200px\",\n          margin: \"200px auto\",\n          border: \"none\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 12\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"150px\",\n        padding: \"15px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: \"No such user found. :(\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 16\n    }, this);\n  }\n}\n_s(ProfilePage, \"3Co4VDfK3TejfxaHz0Qzimfo0vg=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ProfilePage;\n;\nvar _c;\n$RefreshReg$(_c, \"ProfilePage\");","map":{"version":3,"names":["React","useEffect","useState","axios","useNavigate","useParams","Popup","jsxDEV","_jsxDEV","ProfilePage","_s","oid","navigate","fc","sfc","popup","setPopup","isOpen","content","ouser","setOuser","luser","setLuser","posts","setPosts","loaded","load","fetchPosts","lu","JSON","parse","localStorage","getItem","lus","post","userid","ous","data","following","includes","_id","req","sortedposts","then","catch","err","console","log","Like","event","lpost","detail","put","postid","index","findIndex","updatedPosts","likes","setTimeout","action","Comment","e","pid","uid","preventDefault","document","getElementById","value","comment","target","reset","removeComment","com","viewcomments","p","c","postedby","style","margin","paddingLeft","children","className","src","alt","float","width","borderRadius","marginRight","height","objectFit","objectPosition","fileName","_jsxFileName","lineNumber","columnNumber","onClick","toggler","vis","visibility","follow","followid","user","followers","viewbio","bio","BIO","split","marginLeft","marginBottom","map","b","month","m","handleClosePopup","textAlign","marginTop","length","name","photo","caption","comments","onSubmit","type","id","placeholder","backgroundColor","color","createdAt","substring","padding","onClose","border","_c","$RefreshReg$"],"sources":["C:/Projects/HP/frontend/src/components/ProfilePage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios'\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport Popup from './Popup';\r\n\r\nexport default function ProfilePage(){\r\n    let {oid}=useParams()\r\n \r\n    let navigate=useNavigate()\r\n    const [fc,sfc]=useState(\"Follow\")\r\n    const [popup, setPopup] = useState({ isOpen: false, content: '' });\r\n    const [ouser,setOuser]=useState('loading')\r\n    const [luser,setLuser]=useState('loading')\r\n    const [posts,setPosts]=useState([])\r\n    const [loaded,load]=useState(false)\r\n\r\n    const fetchPosts = async () => {\r\n        var lu=JSON.parse(localStorage.getItem('user'))\r\n        var lus= await axios.post('http://localhost:8081/user',{userid:lu.userid})\r\n\r\n        var ous= await axios.post('http://localhost:8081/user',{userid:oid})\r\n        if(ous.data===null){\r\n            return ([lus.data,null,[]])\r\n        }\r\n\r\n        if(lus.data.userid===oid){\r\n            navigate('/myprofile')\r\n        }\r\n        lus.data.following.includes(ous.data._id)?sfc(\"Unfollow\"):sfc(\"Follow\")\r\n\r\n        var req = await axios.post('http://localhost:8081/getmyposts', { userid: ous.data.userid })\r\n\r\n        var sortedposts=req.data\r\n        return ([lus.data,ous.data,sortedposts])\r\n    }\r\n    useEffect(() => {\r\n        fetchPosts().then((data) =>{ \r\n            setLuser(data[0]);\r\n            setOuser(data[1]);\r\n            setPosts(data[2]);\r\n            load(true)\r\n        }).catch((err) => console.log(err))\r\n    }, [])\r\n\r\n    const Like = async (event, lpost) => {\r\n        if (event.detail == 2) {\r\n            await axios.put('http://localhost:8081/like', {\r\n                userid: luser.userid,\r\n                postid: lpost._id\r\n            }).then(async(data)=>{\r\n                const index = posts.findIndex(post => post._id === lpost._id);     \r\n                const updatedPosts = [...posts];\r\n                updatedPosts[index] = data.data;\r\n                setPosts(updatedPosts);\r\n                setPopup({\r\n                    isOpen: true,\r\n                    content: lpost.likes.includes(luser._id)?'Unliked':'Liked',\r\n                  });\r\n              \r\n                setTimeout(() => setPopup({ isOpen: false, action: '', content: '' }), 1000);\r\n            })            \r\n        }\r\n    }\r\n\r\n    const Comment=async(e,pid,uid)=>{\r\n        e.preventDefault()\r\n        if(document.getElementById(pid).value){\r\n            await axios.put('http://localhost:8081/addcomment',{\r\n            postid:pid,\r\n            comment:document.getElementById(pid).value,\r\n            userid:uid\r\n        }).then(async(data)=>{\r\n            const index = posts.findIndex(post => post._id === pid);        // Create a copy of the current posts array\r\n            const updatedPosts = [...posts];\r\n            updatedPosts[index] = data.data;\r\n            setPosts(updatedPosts);\r\n            setPopup({\r\n                isOpen: true,\r\n                content: 'Commented',\r\n              });\r\n          \r\n              // Close the popup after 2 seconds\r\n            setTimeout(() => setPopup({ isOpen: false, action: '', content: '' }), 1000);\r\n        })}\r\n        e.target.reset()\r\n    }\r\n\r\n    const removeComment=async(pid,com)=>{\r\n\r\n        await axios.put('http://localhost:8081/removecomment',{\r\n            pid:pid,\r\n            comment:com\r\n        }).then(async(data)=>{\r\n            const index = posts.findIndex(post => post._id === pid);        // Create a copy of the current posts array\r\n            const updatedPosts = [...posts];\r\n            updatedPosts[index] = data.data;\r\n            setPosts(updatedPosts);\r\n            setPopup({\r\n                isOpen: true,\r\n                content: 'Comment removed',\r\n              });\r\n          \r\n              // Close the popup after 2 seconds\r\n            setTimeout(() => setPopup({ isOpen: false, action: '', content: '' }), 1000);\r\n        })\r\n    }\r\n\r\n    const viewcomments=(p,c)=>{\r\n        if(c.postedby.userid===luser.userid){\r\n            return <div style={{margin:\"1px\",paddingLeft:\"10px\"}}>\r\n                <img className=\"card-img-top\"  src={\"http://localhost:8081/\"+c.postedby._id+\".jpg\"}\r\n                     alt=\"pfp\" style={{float:\"left\",width:\"30px\",borderRadius:\"50%\",marginRight:\"10px\",height:\"30px\",objectFit:\"cover\",objectPosition:\"center center\"}}/>\r\n                <p><b style={{marginRight:\"5px\",width:\"auto\"}} onClick={()=>navigate('/myprofile')}>{c.postedby.userid}</b>{c.comment} <img onClick={()=>{removeComment(p,c._id)}} src=\"trashbin.png\" alt=\"remove comment\" style={{width:\"20px\",margin:0}} /></p>\r\n            </div>\r\n        }\r\n        else{\r\n            return <div style={{margin:\"1px\",paddingLeft:\"10px\"}}>\r\n                <img className=\"card-img-top\"  src={\"http://localhost:8081/\"+c.postedby._id+\".jpg\"}\r\n                     alt=\"pfp\" style={{float:\"left\",width:\"30px\",borderRadius:\"50%\",marginRight:\"10px\",height:\"30px\",objectFit:\"cover\",objectPosition:\"center center\"}}/>\r\n                <p><b style={{marginRight:\"5px\",width:\"auto\"}} onClick={()=>navigate('/profilepage/'+c.postedby.userid)}>{c.postedby.userid}</b>{c.comment}</p>\r\n            </div>\r\n        }\r\n           \r\n    }\r\n\r\n    const toggler=(pid)=>{\r\n        var vis=document.getElementById(\"comments\"+pid).style.visibility\r\n        if(vis===\"hidden\"){\r\n            document.getElementById(\"comments\"+pid).style.visibility=\"visible\"\r\n            document.getElementById(\"comments\"+pid).style.height=\"auto\"\r\n        }\r\n        else{\r\n            document.getElementById(\"comments\"+pid).style.visibility=\"hidden\"\r\n            document.getElementById(\"comments\"+pid).style.height=\"0\"\r\n        }\r\n    }\r\n\r\n    const follow=async()=>{\r\n            await axios.put('http://localhost:8081/follow',{\r\n            userid:luser._id,\r\n            followid:ouser._id\r\n        }).then(async(data)=>{\r\n            setLuser(data.data.user)\r\n            setOuser(data.data.follow)\r\n            setPopup({\r\n                isOpen: true,\r\n                content: ouser.followers.includes(luser._id)?'Unfollowed':'Followed',\r\n              });\r\n          \r\n            setTimeout(() => setPopup({ isOpen: false, action: '', content: '' }), 1000);\r\n        })\r\n        if(fc===\"Follow\") sfc(\"Unfollow\")\r\n        else sfc(\"Follow\")\r\n    }\r\n\r\n    const viewbio=(bio)=>{\r\n        var BIO=bio.split(\"\\n\")\r\n        return (<div style={{marginLeft:\"20px\",marginBottom:\"10px\"}}>\r\n            {BIO.map((b)=>{\r\n                return <p style={{margin:\"0px\"}}>{b}</p>\r\n            })}\r\n        </div>)\r\n    }\r\n\r\n    const month=(m)=>{\r\n        switch(m){\r\n            case '01':return 'Jan'\r\n            case '02':return 'Feb'\r\n            case '03':return 'Mar'\r\n            case '04':return 'Apr'\r\n            case '05':return 'May'\r\n            case '06':return 'June'\r\n            case '07':return 'July'\r\n            case '08':return 'Aug'\r\n            case '09':return 'Sep'\r\n            case '10':return 'Oct'\r\n            case '11':return 'Nov'\r\n            default: return 'Dec'\r\n        }\r\n    }\r\n\r\n    const handleClosePopup = () => {\r\n        setPopup({ isOpen: false, action: '', content: '' });\r\n    }\r\n\r\n    if(ouser && ouser!=='loading' && loaded){\r\n    return (<div>\r\n    <div className=\"card\" style={{width:\"600px\"}}>\r\n        <div className='card-body' style={{height:\"60px\"}}>\r\n            <p style={{width:\"400px\",float:\"left\"}}>{ouser.userid}</p>\r\n        </div>\r\n\r\n        <div className='card-body' style={{height:\"170px\"}}>\r\n            <div className='card-item'>\r\n            <div style={{width:\"150px\",float:\"left\"}}>\r\n                <img src={\"http://localhost:8081/\"+ouser._id+\".jpg\"} style={{width:\"130px\",borderRadius:\"50%\",objectFit:\"cover\",objectPosition:\"center center\",height:\"130px\"}}/>\r\n            </div>\r\n            <div style={{width:\"380px\",float:\"right\",height:\"130px\"}}>\r\n                <div style={{float:\"left\",textAlign:\"center\",marginTop:\"35px\",width:\"110px\"}}>\r\n                    <p>{ouser.posts.length}</p>\r\n                    <p>Posts</p>\r\n                </div>\r\n                <div onClick={()=>{navigate('/followers/'+ouser.userid)}} style={{float:\"left\",textAlign:\"center\",marginTop:\"35px\",width:\"110px\"}}>\r\n                    <p>{ouser.followers.length}</p>\r\n                    <p>Followers</p>\r\n                </div>\r\n                <div onClick={()=>{navigate('/following/'+ouser.userid)}} style={{float:\"left\",textAlign:\"center\",marginTop:\"35px\",width:\"110px\"}}>\r\n                    <p>{ouser.following.length}</p>\r\n                    <p>Following</p>\r\n                </div>\r\n            </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div className='card' style={{width:\"600px\"}}>\r\n        <div className='card-body' style={{height:\"50px\"}}>\r\n            <h6>{ouser.name}</h6>\r\n        </div>\r\n        {ouser.bio && viewbio(ouser.bio) }\r\n        <button className='btn btn-dark' onClick={()=>{\r\n            follow()\r\n        }}>{fc}</button>\r\n    </div>\r\n    <div>\r\n    {posts.length>0 && posts.map((post)=>{\r\n        var p = post._id;\r\n        return <div className=\"card\" style={{ width: \"600px\", marginBottom: \"10px\" }}>\r\n        <div className=\"card-body\">\r\n            <img className=\"card-img-top\" src={\"http://localhost:8081/\"+ouser._id+\".jpg\"} alt=\"Card cap\" style={{float:\"left\",height:\"35px\",width:\"35px\",borderRadius:\"50%\",marginRight:\"10px\",objectFit:\"cover\",objectPosition:\"center center\"}}/>\r\n            <p style={{marginTop:\"6px\"}}>{ouser.userid}</p>\r\n        </div>\r\n        <img className=\"card-img-top\" onClick={(event) => { Like(event, post) }} src={\"http://localhost:8081/\"+post.photo} alt={post.photo} />\r\n        <div className=\"card-body\" >\r\n            <img className=\"card-img-top\" src={\"http://localhost:8081/\"+post.postedby._id+\".jpg\"}\r\n                            alt=\"pfp\" style={{float:\"left\",width:\"30px\",borderRadius:\"50%\",marginRight:\"10px\",height:\"30px\",objectFit:\"cover\",objectPosition:\"center center\"}}/>\r\n            <p><b>{post.postedby.userid}</b> {post.caption}</p>\r\n            <p><img src={\"like\"+(post.likes.includes(luser._id)?\"d.png\":\".png\")} onClick={() => { navigate('/likedby/'+p) }} style={{width:\"30px\"}} alt=\"Like\" /> {post.likes.length} <img src=\"comment.png\" onClick={()=>{toggler(p)}} style={{width:\"30px\",marginLeft:\"5px\"}} alt=\"Comment\" /> {post.comments.length}</p>\r\n            <form onSubmit={(event)=>Comment(event,p,luser.userid)}>\r\n                <input type=\"text\" className='form-control' name='comment' id={p} placeholder=\"Add a comment\" style={{ float: \"left\", width: \"450px\" }} />\r\n                <button type=\"submit\" className='btn ' style={{ backgroundColor:\"black\",color:\"white\",margin: 0, marginLeft: \"5px\" }}>Comment</button>\r\n            </form>\r\n        </div>\r\n        <div id={\"comments\"+p} style={{visibility:\"hidden\",height:0}}>\r\n            {post.comments.map((c)=>{\r\n                return viewcomments(p,c)})}\r\n        </div>\r\n        <p style={{margin:\"2px\",paddingLeft:\"10px\"}}>{post.createdAt.substring(8,10)} {month(post.createdAt.substring(5,7))} {post.createdAt.substring(0,4)} </p>\r\n    </div>\r\n    })}\r\n    {posts.length===0 && <div className=\"card\" style={{padding:\"100px\",width:\"600px\"}}>\r\n            <p style={{textAlign:\"center\"}}> This user has not posted anything</p>\r\n            <p style={{textAlign:\"center\",color:\"blue\"}} onClick={()=>navigate(\"/search\")}> Find more people </p>\r\n        </div> }\r\n    </div>\r\n    <Popup isOpen={popup.isOpen} onClose={handleClosePopup} content={popup.content} />\r\n    </div>\r\n  )}\r\n  if(ouser==='loading'){\r\n    return <div >\r\n    <img className=\"card\" src='http://mir-s3-cdn-cf.behance.net/project_modules/max_1200/eb0e6b135349075.61e6909c085be.gif' alt='loading' style={{width:\"200px\",margin:\"200px auto\",border:\"none\"}}/>\r\n</div>\r\n  }\r\n  else{\r\n        return <div style={{marginTop:\"150px\",padding:\"15px\"}}>\r\n        <p style={{textAlign:\"center\"}}>No such user found. :(</p>\r\n    </div>\r\n    }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}