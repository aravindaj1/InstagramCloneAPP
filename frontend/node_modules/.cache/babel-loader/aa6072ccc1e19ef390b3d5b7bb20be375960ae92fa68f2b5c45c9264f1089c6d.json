{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\HP\\\\frontend\\\\src\\\\components\\\\SignUp.js\",\n  _s = $RefreshSig$();\nimport { ErrorMessage, Field, Form, Formik } from \"formik\";\nimport '../styles/SignUp.css';\nimport { Link, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { OTP } from \"../context/OTPverify\";\nimport { useContext } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SignUp() {\n  _s();\n  const navigate = useNavigate();\n  const [otp, setotp] = useContext(OTP);\n  const submitHandler = async (values, setSubmitting) => {\n    if (otp[0]) {\n      values.userid.toLowerCase();\n      var newuser = {\n        email: otp[1],\n        name: values.name,\n        userid: values.userid,\n        password: values.password\n      };\n      await axios.post('http://localhost:8081/signup', newuser);\n      var ouser = await axios.post('http://localhost:8081/login', newuser);\n      localStorage.setItem('user', JSON.stringify(ouser.data));\n      navigate('/');\n    } else {\n      alert('You have not verified your email');\n      navigate('/emailverification');\n    }\n  };\n  const validator = async values => {\n    const errors = {};\n    var users = await axios.get('http://localhost:8081/getall');\n    if (!values.name) errors.name = \"Please enter a name\";\n    if (!values.userid) errors.userid = \"Please create an User ID\";\n    if (!values.password) errors.password = \"Please create a password\";\n    var user = users.data.filter(u => u.userid === values.userid);\n    if (user.length > 0) errors.userid = \"UserID already exists\";\n    var idcon = /^(?!.*\\.\\.)(?!.*\\.$)[^\\W][\\w.]{0,29}$/;\n    if (!idcon.test(values.userid)) errors.userid = \"UserID can contain only alphabets, numbers, . or _\";\n    if (values.userid.indexOf('.') === 0 || values.userid.indexOf('.') === values.userid.length - 1) errors.userid = \"UserID cannot start or end with .\";\n    if (values.password.length < 8) errors.password = \"Password should contain at least 8 characters\";\n    return errors;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: \"180px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: \"black\",\n        margin: \"10px auto\",\n        textAlign: \"center\",\n        width: \"18rem\",\n        color: \"white\",\n        padding: \"5px\",\n        borderRadius: \"5px\"\n      },\n      children: \"Signup\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: {\n        name: \"\",\n        password: \"\",\n        userid: \"\"\n      },\n      onSubmit: submitHandler,\n      validate: validator,\n      children: _ref => {\n        let {\n          isSubmitting\n        } = _ref;\n        return /*#__PURE__*/_jsxDEV(Form, {\n          class: \"card bg-secondary\",\n          style: {\n            width: \"18rem\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(Field, {\n              class: \"form-control\",\n              type: \"text\",\n              name: \"name\",\n              placeholder: \"Enter Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n              class: \"form-text text-muted\",\n              name: \"name\",\n              component: \"div\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(Field, {\n              class: \"form-control\",\n              type: \"text\",\n              name: \"userid\",\n              placeholder: \"Create An User ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n              class: \"form-text text-muted\",\n              name: \"userid\",\n              component: \"div\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(Field, {\n              class: \"form-control\",\n              type: \"password\",\n              name: \"password\",\n              placeholder: \"Create Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n              class: \"form-text text-muted\",\n              name: \"password\",\n              component: \"div\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            class: \"btn btn-dark\",\n            disabled: isSubmitting,\n            children: \"Create account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        margin: \"10px auto\",\n        textAlign: \"center\"\n      },\n      children: [\"Already have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n        to: '/login',\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 38\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 13\n  }, this);\n}\n_s(SignUp, \"17xaOWZ8IovsahPLMPodoOzsBMU=\", false, function () {\n  return [useNavigate];\n});\n_c = SignUp;\nvar _c;\n$RefreshReg$(_c, \"SignUp\");","map":{"version":3,"names":["ErrorMessage","Field","Form","Formik","Link","useNavigate","axios","OTP","useContext","jsxDEV","_jsxDEV","SignUp","_s","navigate","otp","setotp","submitHandler","values","setSubmitting","userid","toLowerCase","newuser","email","name","password","post","ouser","localStorage","setItem","JSON","stringify","data","alert","validator","errors","users","get","user","filter","u","length","idcon","test","indexOf","style","marginTop","children","backgroundColor","margin","textAlign","width","color","padding","borderRadius","fileName","_jsxFileName","lineNumber","columnNumber","initialValues","onSubmit","validate","_ref","isSubmitting","class","type","placeholder","component","disabled","to","_c","$RefreshReg$"],"sources":["C:/Projects/HP/frontend/src/components/SignUp.js"],"sourcesContent":["import { ErrorMessage, Field, Form, Formik } from \"formik\";\r\nimport '../styles/SignUp.css'\r\nimport { Link, useNavigate } from \"react-router-dom\"\r\nimport axios from \"axios\"\r\nimport { OTP } from \"../context/OTPverify\";\r\nimport { useContext } from \"react\";\r\n\r\nexport default function SignUp(){\r\n    const navigate=useNavigate()\r\n    const [otp,setotp]=useContext(OTP)\r\n\r\n    const submitHandler = async(values, setSubmitting) => {\r\n        \r\n        if(otp[0]){\r\n            values.userid.toLowerCase()\r\n\r\n        var newuser={\r\n            email:otp[1],\r\n            name:values.name,\r\n            userid:values.userid,\r\n            password:values.password\r\n        }\r\n\r\n        await axios.post('http://localhost:8081/signup',newuser)\r\n        \r\n        var ouser=await axios.post('http://localhost:8081/login',newuser)\r\n        localStorage.setItem('user',JSON.stringify(ouser.data));\r\n        navigate('/')\r\n        }\r\n        else{\r\n            alert('You have not verified your email')\r\n            navigate('/emailverification')\r\n        }\r\n        \r\n    }\r\n    const validator=async(values)=>{\r\n        const errors={}\r\n        var users=await axios.get('http://localhost:8081/getall')\r\n\r\n        if(!values.name) errors.name=\"Please enter a name\"\r\n        if(!values.userid) errors.userid=\"Please create an User ID\"\r\n        if(!values.password) errors.password=\"Please create a password\"\r\n\r\n        var user=users.data.filter((u)=>u.userid===values.userid)\r\n        if(user.length>0) errors.userid=\"UserID already exists\"\r\n\r\n        var idcon = /^(?!.*\\.\\.)(?!.*\\.$)[^\\W][\\w.]{0,29}$/\r\n\r\n        if(!idcon.test(values.userid)) errors.userid=\"UserID can contain only alphabets, numbers, . or _\"\r\n\r\n        if(values.userid.indexOf('.')===0||values.userid.indexOf('.')===values.userid.length-1)\r\n        errors.userid=\"UserID cannot start or end with .\"\r\n\r\n        if(values.password.length<8) errors.password=\"Password should contain at least 8 characters\"\r\n        return errors\r\n    }\r\n\r\n\r\n    return (<div style={{marginTop:\"180px\"}}>\r\n\r\n        <div style={{backgroundColor:\"black\",margin:\"10px auto\",textAlign:\"center\",width:\"18rem\",color:\"white\",padding:\"5px\",borderRadius:\"5px\"}}>\r\n            Signup\r\n        </div>\r\n\r\n        <Formik initialValues={{name:\"\",password:\"\",userid:\"\"}} onSubmit={submitHandler} validate={validator}>\r\n        {({ isSubmitting }) =>(\r\n            <Form class=\"card bg-secondary\" style={{width:\"18rem\"}}>\r\n\r\n                <div class=\"form-group\">\r\n                    <Field class=\"form-control\" type=\"text\" name=\"name\" placeholder=\"Enter Name\"/>\r\n                    <ErrorMessage class=\"form-text text-muted\" name=\"name\" component=\"div\" />\r\n                </div>\r\n\r\n                <div class=\"form-group\" >\r\n                    <Field class=\"form-control\" type=\"text\" name=\"userid\" placeholder=\"Create An User ID\"/>\r\n                    <ErrorMessage class=\"form-text text-muted\" name=\"userid\" component=\"div\" />\r\n                </div>\r\n\r\n                <div class=\"form-group\" >\r\n                    <Field class=\"form-control\" type=\"password\" name=\"password\" placeholder=\"Create Password\"/>\r\n                    <ErrorMessage class=\"form-text text-muted\" name=\"password\" component=\"div\" />\r\n                </div>\r\n                \r\n                <button type=\"submit\" class=\"btn btn-dark\" disabled={isSubmitting} >\r\n                    Create account\r\n                </button>\r\n                \r\n             \r\n            </Form>\r\n        )}\r\n        </Formik>\r\n        <p style={{margin:\"10px auto\",textAlign:\"center\"}}>\r\n            Already have an account? <Link to={'/login'}>Login</Link>\r\n        </p>\r\n    </div>)\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}